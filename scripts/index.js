var q=document.querySelector("#letter").content.querySelector(".element"),S=({letter:c,id:l})=>{let n=q.cloneNode(!0);return n.querySelector(".element__letter").textContent=c,n.querySelector(".element__letter").dataset.id=l,n.setAttribute("tabindex","0"),n},d=(c,l)=>{let n=document.createDocumentFragment();c.forEach(a=>{let i=S(a);n.append(i)}),l.append(n)};var u=[{letter:"A",id:"a"},{letter:"B",id:"b"},{letter:"C",id:"c"},{letter:"D",id:"d"},{letter:"E",id:"e"},{letter:"F",id:"f"},{letter:"G",id:"g"},{letter:"H",id:"h"},{letter:"I",id:"i"},{letter:"J",id:"j"},{letter:"K",id:"k"},{letter:"L",id:"l"},{letter:"M",id:"m"}],m=[{letter:"N",id:"n"},{letter:"O",id:"o"},{letter:"P",id:"p"},{letter:"Q",id:"q"},{letter:"R",id:"r"},{letter:"S",id:"s"},{letter:"T",id:"t"},{letter:"U",id:"U"},{letter:"V",id:"v"},{letter:"W",id:"w"},{letter:"X",id:"x"},{letter:"Y",id:"y"},{letter:"Z",id:"z"}];document.addEventListener("DOMContentLoaded",()=>{let c=document.querySelector(".column__left"),l=document.querySelector(".column__right");d(u,c),d(m,l);let n=document.getElementById("name"),a=document.getElementById("position"),i=document.getElementById("phone"),_=document.querySelector(".buttons__button--add"),f=document.querySelector(".buttons__button--clear"),p=document.querySelector("#message").content.querySelector(".message"),y=(o,t,r)=>{let e=p.cloneNode(!0);return e.querySelector(".message__name").textContent=o,e.querySelector(".message__position").textContent=t,e.querySelector(".message__phone").textContent=r,e},g=(o,t)=>{let e=[...(u.some(s=>s.letter===t)?c:l).children].find(s=>s.querySelector(".element__letter").dataset.id===t.toLowerCase());e?(e.querySelector(".element__contacts").append(o),C(e)):alert(`\u0411\u0443\u043A\u0432\u0430 "${t}" \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430 \u0432 \u0442\u0430\u0431\u043B\u0438\u0446\u0435.`)};_.addEventListener("click",o=>{o.preventDefault();let t=n.value.trim(),r=a.value.trim(),e=i.value.trim();if(!t||!r||!e){alert("\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F");return}let s=t[0].toUpperCase(),E=y(t,r,e);g(E,s),n.value="",a.value="",i.value=""});function C(o){let t=o.querySelector(".element__counter"),e=o.querySelector(".element__contacts").children.length;e>0&&(t.classList.add("element__counter--active"),t.textContent=e)}document.querySelectorAll(".element__container").forEach(o=>{o.addEventListener("click",t=>{t.preventDefault();let e=t.target.closest(".element").querySelector(".element__contacts");e.classList.toggle("element__contacts--open"),e.classList.contains("element__contacts--open")?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0})})});
